{% extends "base.html" %}
{% block content %}

<div class="card">
  <div style="display:flex;justify-content:space-between;align-items:center">
    <div>
      <h2 style="margin:0">{{ user.username }}</h2>
      <div class="post-time">Постов: {{ user.posts|length }}</div>
    </div>
  </div>
</div>

{% for post in user.posts %}
<div class="card post-card" data-post-id="{{ post.id }}">
  <div class="post-top">
    <div class="post-meta">
      <a class="post-author" href="/profile/{{ user.username }}">{{ user.username }}</a>
      <div class="post-time">{{ post.timestamp.strftime('%d.%m.%Y %H:%M') }}</div>
    </div>
    <div class="post-actions">
      <button class="like-btn {% if current_user in post.liked_by %}liked{% endif %}" data-post-id="{{ post.id }}" aria-pressed="{{ current_user in post.liked_by }}">
        <span class="like-count">{{ post.likes_count }}</span>
        <span class="like-text">Лайк</span>
      </button>
    </div>
  </div>

  <div class="post-body">{{ post.content }}</div>
</div>
{% endfor %}

{% endblock %}
